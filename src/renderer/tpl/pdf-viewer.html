<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>搜钢助手-质保书预览</title>
</head>

<body>
  <canvas id="the-canvas" style="border:1px solid black;"/>
  <script>
      window.$ = window.jQuery = require('../libs/jQuery/jquery-1.11.3.min.js');
  </script>
  <script src="../libs/pdfjs-1.3.91-dist/build/pdf.js"></script>
  <script src="../libs/pdfjs-1.3.91-dist/build/pdf.worker.js"></script>
  <script src="../js/utils.js"></script>
  <script>
      $(document).ready(function() {
          var args = BMUtils.GetUrlParams();
          var url = args.pdfPath;
          PDFJS.getDocument(url).then(function (pdf) {
              // Fetch the page.
              pdf.getPage(1).then(function (page) {
                  var scale = 1.5;
                  var viewport = page.getViewport(scale);

                  // Prepare canvas using PDF page dimensions.
                  var canvas = document.getElementById('the-canvas');
                  var context = canvas.getContext('2d');
                  canvas.height = viewport.height;
                  canvas.width = viewport.width;

                  // Render PDF page into canvas context.
                  var renderContext = {
                      canvasContext: context,
                      viewport: viewport
                  };
                  page.render(renderContext);
              });
          })
      });
  </script>

</body>


</html>